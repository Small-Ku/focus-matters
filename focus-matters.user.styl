/* ==UserStyle==
@name			Focus matters
@namespace		https://github.com/Small-Ku/focus-matters
@version		0.2.0-dev+015
@description	A simple user css for Matters
@author			Small-Ku <small_ku@outlook.com> (https://github.com/Small-Ku)
@license		MIT
@homepageURL	https://github.com/Small-Ku/focus-matters
@supportURL		https://github.com/Small-Ku/focus-matters/issues
@updateURL		https://raw.githubusercontent.com/Small-Ku/focus-matters/master/focus-matters.user.styl
@preprocessor	stylus

@var			select	 layoutChange	 "擴大內容" [
					"focusMatters:專注內容",
					"mockOriginal:仿製原版",
					"off:關閉"
				]
@var			checkbox darkModeLook	 "暗色模式"	 0
@var			checkbox lookOptimize	 "視覺優化"	 1
==/UserStyle== */

bg-color = #121212
text-color = #fff
primary-color = #0d6763
primary-color-light = #489590
primary-color-dark = #003c39
primary-color-text = #fff
second-color = #c0a46b
second-color-light = #f4d59a
second-color-dark = #8e753f
second-color-text = #000
red-color = #b00020

@-moz-document domain("matters.news")
	// 視覺優化
	// Optimize appearance
	if lookOptimize
		// 優化圓角元素的視覺平衡
		// Optimize padding of round text elements with icon
		.tag
			padding 0 0.5rem 0 0.25rem!important
		.side-nav .hasIcon.text-right .text
			padding 0 0.25rem 0 0.5rem!important
		.side-nav .hasIcon.text-right.white .text
			padding 0 0rem 0 0.5rem!important

		// 爲開關按鈕換更好的動畫
		// Optimize switch with transform instead of box-shadow and left/right
		.switch input
			& + span
				overflow hidden
				&:before, &:after
					transition transform .1s cubic-bezier(0.4, 0.0, 0.2, 1)!important
				&:before
					display block
					position absolute
					left 0
					right 0
					top 0
					bottom 0
					width 100%
					height 100%
					z-index 0
					content ""
					background-color rgb(13, 103, 99)
					transform translateX(-2.3rem)
					border-radius .75rem
				&:after
					z-index 1
			&:checked + span
				box-shadow none!important
				&:before
					opacity 1
					transform translateX(0)
				&:after 
					right auto !important
					transform translateX(1.125rem) !important

	// 擴大內容
	// Extend content in the web layout
	if layoutChange != off
		@media (min-width: 1280px)
			#__next
				& > main
					-webkit-flex-basis 100%
					-ms-flex-preferred-size 100%
					flex-basis 100%
					max-width 100%
					// 模仿原版佈局
					// Mock original layout
					if layoutChange == mockOriginal
						& > article
							max-width calc(100% - 520px) !important
							flex-basis calc(100% - 520px) !important
						& > nav
							max-width 168px !important
							padding-left 72px !important
						& > aside
							max-width 272px !important
							padding-right 72px !important
					// 自創佈局
					// Focus Matters style
					if layoutChange == focusMatters
						& > article
							max-width calc(100% - 25rem) !important
							flex-basis calc(100% - 25rem) !important
							padding 0 !important
							margin-right 2rem !important
						& > nav
							max-width 8rem
							margin 0 0 0 2rem
						& > aside
							max-width 12rem
							flex-basis 12rem
							padding-right 1rem !important
						& > aside, & > nav
							opacity 1
							transform translateX(0)
							transition opacity .25s, transform .3s
							transition-time-function cubic-bezier(0.4, 0.0, 1, 1)

		// 修復自創佈局中的卡片層級
		// Fix z-index of poped cards when searching
		.tippy-popper
			z-index 200 !important

	// 暗黑模式
	// Dark Mode
	if darkModeLook
		// Global settings
		html
			background-color bg-color
			color rgba(text-color, 0.87)

		[contenteditable]
			caret-color primary-color-light

		// HTML components
		hr
			border-color rgba(text-color, 0.08) currentcolor currentcolor

		time
			color rgba(text-color, 0.6) !important

		p
			color rgba(text-color, 0.87)

		code, kbd, samp, pre
			background-color lighten(bg-color, 5%)

		form
			input[type="search"]
				color  rgba(text-color, 0.87) !important
				border-color lighten(bg-color, 4%) !important
				background-color lighten(bg-color, 4%) !important
				&:focus
					background-color primary-color-dark !important
					border-color primary-color !important
				&::-webkit-input-placeholder,
				&::placeholder
					color rgba(text-color, .6)

		// Custom color schemes

			// Black
		.black
			color rgba(text-color, 0.87) !important

		.text-black
			color rgba(text-color, 0.87) !important

		.text-active-black:hover, .text-active-black:focus
			color bg-color

		.bg-half-black
			.hotarea
				background rgba(#fff, 0.5)
			&:hover, &:focus
				.hotarea
					background-color rgb(0, 0, 0)

			// Green
		.green
			color primary-color-light !important

		.text-green
			color primary-color-light !important

		.text-active-green
			&:hover, &:focus
				color primary-color-light !important

		.bg-green, .bg-green-lighter
			&, .green
				color rgba(primary-color-text, 0.87) !important

		.bg-green
			.hotarea
				background-color primary-color !important
		.bg-green
			&:hover, &:focus
				.hotarea
					background-color lighten(primary-color, 4%) !important

		.bg-green-lighter
			.hotarea
				background-color primary-color-dark !important
		.bg-green-lighter, .bg-active-green-lighter
			&:hover, &:focus
				.hotarea
					background-color lighten(primary-color-dark, 4%) !important

		.bg-active-green
			&:hover, &:focus
				.hotarea
					color bg-color !important
					background-color primary-color-light !important

		.border-green
			.hotarea
				border-color primary-color-light !important

		.border-green-lighter
			.hotarea
				border-color lighten(primary-color-light, 5%) !important

			// Gold
		.gold
			color second-color

		.bg-gold
			&, .white
				color rgba(second-color-text, 0.87) !important
			.hotarea
				background-color second-color !important
			&:hover, &:focus
				.hotarea
					background-color  lighten(second-color, 4%) !important

		.border-gold
			.hotarea
				border-color second-color

			// Grey
		.grey
			color rgba(text-color, 0.6)

		.grey-light
			color rgba(text-color, 0.38)

		.grey-dark
			color rgba(text-color, 0.87)

		.grey-darker
			color text-color

		.bg-grey
			.hotarea
				background-color lighten(bg-color, 5%)

		.bg-grey-lighter:not(article)
			&:not(.container), & .hotarea
				background-color lighten(bg-color, 7%) !important
			&:hover, &:focus
				.hotarea
					background-color lighten(lighten(bg-color, 7%), 4%) !important
			&:not(.disabled):not(.container)
				&:hover, &:focus
					background-color lighten(lighten(bg-color, 7%), 4%) !important

		.bg-active-grey-lighter
			&:hover, &:focus
				.hotarea
					background-color lighten(lighten(bg-color, 7%), 4%) !important
			&:not(.disabled):not(.container)
				&:hover, &:focus
					background-color lighten(lighten(bg-color, 7%), 4%) !important

		.bg-active-grey-lighter-active
			&:hover, &:focus
				.hotarea
					background-color lighten(lighten(bg-color, 7%), 5%) !important

		.border-grey
			.hotarea
				border-color lighten(bg-color, 5%)

		.border-grey-light
			.hotarea
				border-color lighten(bg-color, 6%)

		.border-grey-lighter
			.hotarea
				border-color lighten(bg-color, 7%)

			// White
		.white
			color bg-color

		.text-active-white
			&:hover, &:focus
				color bg-color !important

		.bg-white
			background-color rgba(0,0,0,0) !important
			&:not(.disabled):not(.container)
				&:hover, &:focus
					background-color rgba(#fff, 4%) !important

		.border-white
			.hotarea
				border-color rgba(#fff, 87%) !important

			// Red
		.red
			color red-color !important

		.text-red
			color red-color !important

		.bg-red
			.hotarea
				background-color red-color !important
			&:hover, &:focus 
				.hotarea
					background-color lighten(red-color, 4%) !important

		.bg-active-red
			&:hover, &:focus 
				.hotarea
					background-color red-color !important

		.border-red
			.hotarea
				border-color red-color !important

		// Custom components in Matters

			// Links
		.u-link-green
			&, &:link, &:visited
				color primary-color
			&:hover, &:active, &:focus
				color lighten(primary-color, 4%)

			// Tooltop pop-up
		.tippy-tooltip
			&, &.dropdown-theme, &.tooltip-theme
				color rgba(text-color, 0.87) !important
				background-color lighten(bg-color, 5%) !important
			&[data-placement^="top"]
				.tippy-arrow
					border-top-color rgba(text-color, 0.87)
			&[data-placement^="bottom"]
				.tippy-arrow
					border-bottom-color rgba(text-color, 0.87)
			&[data-placement^="left"]
				.tippy-arrow
					border-left-color rgba(text-color, 0.87)
			&[data-placement^="right"]
				.tippy-arrow
					border-right-color rgba(text-color, 0.87)

		.unread-icon
			&::after
				background-color primary-color-light !important

		.avatar:not(a)
			background-color lighten(bg-color, 7%) !important

		.description
			color rgba(text-color, .6) !important

		.cover
			background-color lighten(bg-color, 7%) !important

		.score
			color rgba(text-color, 0.38) !important

		.username
			color rgba(text-color, .6) !important

		.displayname
			.name-color-black &
				color rgba(text-color, .87) !important

			.name-color-white &
				color rgba(bg-color, .87) !important

			.name-color-grey-darker &
				color rgba(text-color, .6) !important

		.switch input + span
			background-color darken(#fff, .6) !important
			&::after
				background-color darken(#fff, .13) !important
			&::before
				background-color primary-color !important

		.empty
			color rgba(text-color, 0.38) !important

		.error-code
			color rgba(text-color, 0.6) !important

		.error-message
			color rgba(text-color, 0.6) !important

		.error-detail
			color rgb(200, 92, 65)
			background-color lighten(bg-color, 3%)
			border-color rgb(200, 92, 65)
		
		.logo svg path
			fill rgba(text-color, 0.87) !important

		// Layout

		header
			border-bottom-color rgba(text-color, 0.08) !important
			&.solid-fixed
				border-bottom-color rgba(text-color, .08) !important
				background-color bg-color !important
			&.left, &.right 
				.published-article
					color rgba(text-color, .6)
			&.hasNoBorder
				border medium none !important

		@media (min-width: 768px)
			article
				border-left-color rgba(text-color, 0.08) !important
				border-right-color rgba(text-color, 0.08) !important
				&.bg-grey-lighter
					background-color bg-color !important

		aside
			border-left-color rgba(text-color, 0.08) !important
			border-right-color rgba(text-color, 0.08) !important

		@media (min-width: 1280px)
			aside
				border-left medium none !important
				border-right medium none !important

		.nav-bar
			border-top-color rgba(text-color, 0.08) !important
			background-color bg-color !important

		.toolbar
			border-top-color rgba(text-color, 0.08) !important
			background-color bg-color !important

		.toolbar-items, .toolbar-toggle-button
			svg
				border-radius 50%
				background-color lighten(bg-color, 4%) !important
				g
					stroke rgba(text-color, .6) !important

		footer
			color rgba(text-color, 0.38) !important
			.copyright
				color rgba(text-color, 0.12) !important


		// Misc

		.inactive-state
			color bg-color
			background-color lighten(bg-color, .3)

		.list.has-border > .list-item
			border-bottom-color rgba(text-color, 0.08) !important

		#nprogress .bar
			background-color primary-color-light !important

		.list .count
			color rgba(text-color, .6) !important

		.inline
			background-color rgba(text-color, .05) !important
			&:hover, &:focus
				background-color rgba(primary-color-light, .20) !important
			&.active
				background-color rgba(primary-color-light, .12) !important
				&:hover, &:focus
					background-color rgba(text-color, .07) !important

		.editor-title
			input
				background-color rgba(0,0,0,0)
				&::-webkit-input-placeholder,
				&::placeholder
					color rgba(text-color, .6) !important

		.u-content, #editor-article-container .ql-editor 
			figure
				figcaption
					color rgba(text-color, .6) !important
					textarea
						background-color rgba(0,0,0,0) !important
				&.audio .player
					background-color bg-color !important
					border-color rgba(text-color, 0.08) !important
					header .time
						color rgba(text-color, .6) !important
					footer .progress-bar > span
						background-color primary-color-light
				&[class*="embed"] > .iframe-container
					background-color lighten(bg-color, 7%) !important
			blockquote::before
				background-color second-color-dark !important
			a
				color primary-color-light !important
				&:hover, &:active, &:focus
					color lighten(primary-color-light, 10%) !important
			hr
				border-color rgba(text-color, 0.24) currentcolor !important

		.mention-container
			color rgba(text-color, .6) !important
			background-color bg-color !important

		.count
			color primary-color-light !important


		button.appreciate-button
			background-color bg-color !important
			border-color primary-color-light !important
			color primary-color-light !important
			&:hover, &:focus
				background-color lighten(bg-color, 4%) !important

		.received-count
			color rgba(text-color, .6) !important
			&.highlight
				color primary-color-light !important

		.avatar-list
			> *
				box-shadow 0 0 0 2px rgba(text-color, .87) !important
			.appreciator-count
				color rgba(text-color, .87) !important
				background-color primary-color-dark !important

		.latest-responses-switch
			color rgba(text-color, .6) !important

		.recent-searches ul li
			.key
				color rgba(text-color, 0.6) !important
				background-color lighten(lighten(bg-color, 7%), 5%) !important
				&:hover, &:focus
					background-color lighten(lighten(lighten(bg-color, 7%), 5%), 4%) !important

		.frequent-searches
			.key
				color primary-color-light !important
		
		.aggregate-section
			background-color bg-color !important
			
		li[role="tab"]
			color rgba(text-color, .6) !important
			&:hover, &:focus, &[aria-selected="true"]
				color rgba(text-color, .87) !important
			&[aria-selected="true"] .content
				border-bottom-color rgba(text-color, .87) !important
		
		article .user-profile
			&, & ~ div .list
				footer
					color rgba(text-color, .6) !important
					.count
						color rgba(text-color, .87) !important
			~ nav
				border-bottom-color rgba(text-color, 0.08) !important
			~ .info
				.num
					color rgba(text-color, .87) !important
				&, .username
					color rgba(text-color, .6) !important
				.description
					color rgba(text-color, .6) !important
		
		article nav::after
			background-image none !important
		
		.block
			border-top-color rgba(text-color, 0.08) !important

		.switch input
			& + span
				background-color lighten(bg-color, 4%) !important
				&::after
					background-color lighten(lighten(bg-color, 4%), 7%) !important

		.content.inactive
			color rgba(text-color, 0.6) !important

		.descendants
			li
				&:not(:last-child)
					article
						&::before
							background-color rgba(text-color, 0.08)

		.keepAside ~ aside
			section
				border-bottom-color rgba(text-color, 0.08)
				color rgba(text-color, 0.6) !important
				&.expanded
					color rgba(text-color, 0.87) !important
					.cover-intro
						color rgba(text-color, 0.6) !important
					.cover-image
						border-color rgba(0,0,0,0)
						&.selected
							border-color primary-color-light
					.tags-intro
						color rgba(text-color, 0.6) !important
					.tags-container .tag
						color rgba(text-color, 0.87) !important
						background-color primary-color-dark !important
					.search-tag-input
						background-color rgba(text-color, 0) !important
						color rgba(text-color, 0.87) !important
						&::-webkit-input-placeholder,
						&::placeholder
							color rgba(text-color, 0.6) !important
					.search-tag-item 
						.keyword, .count
							color rgba(text-color, 0.6) !important
					.intro
						color rgba(text-color, 0.6) !important
					input[type="search"]
						background-color rgba(text-color, 0.04) !important
						border-bottom-color rgba(text-color, 0.6) !important
						&::-webkit-input-placeholder,
						&::placeholder
							color rgba(text-color, 0.6) !important
						&:focus, &.focus
							background-color rgba(text-color, 0.1) !important
							border-bottom-color primary-color !important

		.ql-editor.ql-blank::before
			color rgba(text-color, 0.6) !important

		.ql-bubble
			.ql-stroke,
			.ql-stroke-miter
				fill none
				stroke rgba(text-color, 0.87)
			.ql-fill, .ql-stroke.ql-fill
				fill rgba(text-color, 0.87)
			.ql-empty
				fill none
			.ql-tooltip
				&:not(.ql-flip)
					.ql-tooltip-arrow
						border-bottom-color lighten(bg-color, 5%) !important
						&::before
							border-bottom-color rgba(text-color, 0.08) !important
				&.ql-flip
					.ql-tooltip-arrow
						border-top-color lighten(bg-color, 5%) !important
						&::before
							border-top-color rgba(text-color, 0.08) !important
			
			.ql-tooltip-editor
				input[type="text"]
					color rgba(text-color, 0.87) !important
			
			.ql-toolbar
				background-color lighten(bg-color, 5%) !important
				border-color rgba(text-color, 0.08) !important
				button
					&:hover, &:focus, &.ql-active
						color primary-color-light !important
						.ql-fill, .ql-stroke.ql-fill
							color primary-color-light !important

		#editor-article-container .spinner
			stroke rgba(text-color, 0.38)

		.toast.green
			background-color primary-color-dark !important

		.embed-clipboard
			background-color rgba(0,0,0,0) !important

		.dialog .container
			background-color lighten(bg-color, 5%) !important
			> header
				box-shadow rgba(text-color, 0.08) 0px 1px 0px 0px !important
			form
				background-color rgba(0,0,0,0) !important
				input, textarea
					background-color rgba(text-color, 0.04) !important
					color rgba(text-color, 0.6) !important
					&:hover
						background-color rgba(text-color, 0.1) !important
						color rgba(text-color, 0.87) !important
					&:focus
						background-color rgba(text-color, 0.12) !important
						color rgba(text-color, 0.87) !important
					&::-webkit-input-placeholder,
					&::placeholder
						color rgba(text-color, 0.6) !important

		@media (pointer: coarse)
			.ql-bubble .ql-toolbar .ql-bubble .ql-toolbar button:hover:not(.ql-active)
				color rgba(text-color, 0.87) !important
				.ql-fill, .ql-stroke.ql-fill
					fill rgba(text-color, 0.87) !important
				.ql-stroke, .ql-stroke-miter
					stroke rgba(text-color, 0.87) !important

@-moz-document url("https://matters.news/help")
	if darkModeLook
		article ul li + li
			border-top-color bg-color !important

@-moz-document regexp("https:\/\/matters\.news\/about\/?")
	if darkModeLook
		.features
			background linear-gradient( 90deg, second-color-dark 50%, transparent 50% ) no-repeat !important
			.feature-section
				.intro p
					color second-color-light !important
				img
					filter invert(90%) hue-rotate(180deg) brightness(110%)
				
@-moz-document regexp("https:\/\/matters\.news\/migration\/?")
	if darkModeLook
		#steps .step img, .intro-wrap, .banner
			color rgba(#000, .87)
			filter invert(92.9%) hue-rotate(185deg) saturate(125%)
		@media (min-width: 1280px)
			.intro-wrap, .banner
				color rgba(text-color, .87)
				filter none
			.intro-wrap
				background-image url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' height='800' viewBox='0 0 1440 800'%3E%3Cmask id='a' maskUnits='userSpaceOnUse' x='0' y='0' width='1440' height='800'%3E%3Cpath fill='%23fff' d='M0 0h1440v800H0z'/%3E%3C/mask%3E%3Cg mask='url(%23a)'%3E%3Cpath stroke='%2392C7B8' stroke-width='.5' d='M1297.8 304.8l243.7-177'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1292.5 319a9.5 9.5 0 100-19 9.5 9.5 0 000 19z' fill='url(%23paint0_linear)'/%3E%3Cpath clip-rule='evenodd' d='M273 266a480 480 0 100-960 480 480 0 000 960z' stroke='%23C0A46B' stroke-width='.5'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M574.5 173a14.5 14.5 0 100-29 14.5 14.5 0 000 29z' fill='%23F2FAF8'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M574.5 173a14.5 14.5 0 100-29 14.5 14.5 0 000 29z' fill='url(%23paint1_linear)'/%3E%3Cpath clip-rule='evenodd' d='M574.5 173a14.5 14.5 0 100-29 14.5 14.5 0 000 29z' stroke='%23C0A46B' stroke-dasharray='4 4'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M259 343a100 100 0 100-200 100 100 0 000 200z' fill='%23F2FAF8'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M259 343a100 100 0 100-200 100 100 0 000 200z' fill='url(%23paint2_linear)'/%3E%3Cpath clip-rule='evenodd' d='M259 343a100 100 0 100-200 100 100 0 000 200z' stroke='%23C0A46B' stroke-width='2' stroke-dasharray='8 8'/%3E%3Cpath clip-rule='evenodd' d='M988 1522a480 480 0 100-960 480 480 0 000 960z' stroke='%2392C7B8' stroke-width='.5'/%3E%3Cpath clip-rule='evenodd' d='M988.5 1385a342.5 342.5 0 100-685 342.5 342.5 0 000 685z' stroke='%2392C7B8' stroke-width='.5'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1069 666a100 100 0 100-200 100 100 0 000 200z' fill='%2387B9AB'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1069 666a100 100 0 100-200 100 100 0 000 200z' fill='url(%23paint3_linear)'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M669.5 695a14.5 14.5 0 100-29 14.5 14.5 0 000 29z' fill='url(%23paint4_linear)'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M819 592.7c.1.3.3 1-.6 1.8-3.5 3.2-10.7 7.1-14.8 13.1 0 .1-.4.7-3.5 2.6l-7-17.2c3.7-.7 4.3-.6 4.4-.5 7.1 1.5 15-.7 19.8-.8 1.2 0 1.5.6 1.7 1z' fill='%23359177'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M819 592.7c.1.3.3 1-.6 1.8-3.5 3.2-10.7 7.1-14.8 13.1 0 .1-.4.7-3.5 2.6l-7-17.2c3.7-.7 4.3-.6 4.4-.5 7.1 1.5 15-.7 19.8-.8 1.2 0 1.5.6 1.7 1z' fill='url(%23paint5_linear)'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M819 592.7c.1.3.3 1-.6 1.8-3.5 3.2-10.7 7.1-14.8 13.1 0 .1-.4.7-3.5 2.6l-7-17.2c3.7-.7 4.3-.6 4.4-.5 7.1 1.5 15-.7 19.8-.8 1.2 0 1.5.6 1.7 1z' fill='url(%23paint6_linear)'/%3E%3Cpath stroke='%23C0A46B' stroke-width='.5' d='M-78.1 860l436.7-317.4'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M376.5 528.2c.3.3.6.9 0 2-2.5 4-8.4 9.7-10.7 16.5 0 .2-.3.8-2.8 3.5l-11.2-14.7c3.2-1.7 3.9-1.7 4-1.7 7.2-.5 14.3-4.7 18.8-6 1.2-.4 1.7 0 2 .4z' fill='url(%23paint7_linear)'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear' x1='1306.8' y1='307.6' x2='1292.6' y2='296.4' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%2379B1A6'/%3E%3Cstop offset='1' stop-color='%23D7EAE1'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint1_linear' x1='558.8' y1='158.3' x2='575.5' y2='175.7' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23F4E2BC' stop-opacity='.2'/%3E%3Cstop offset='1' stop-color='%23B17F18' stop-opacity='.2'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint2_linear' x1='150.4' y1='241.7' x2='266' y2='361.7' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23F4E2BC' stop-opacity='.2'/%3E%3Cstop offset='1' stop-color='%23B17F18' stop-opacity='.2'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint3_linear' x1='946.5' y1='577.5' x2='1095.1' y2='693.4' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23D7EAE1'/%3E%3Cstop offset='1' stop-color='%2379B1A6'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint4_linear' x1='691.2' y1='677.6' x2='669.7' y2='660.5' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%2379B1A6'/%3E%3Cstop offset='1' stop-color='%23D7EAE1'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint5_linear' x1='818.2' y1='592.9' x2='797.4' y2='584' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%2379B1A6'/%3E%3Cstop offset='1' stop-color='%230D6763'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint6_linear' x1='802.3' y1='590.2' x2='803.4' y2='615.5' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%2379B1A6'/%3E%3Cstop offset='1' stop-color='%230D6763'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint7_linear' x1='350' y1='536' x2='362.2' y2='552.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EFDAAF'/%3E%3Cstop offset='1' stop-color='%23BF9F5E'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E") !important
			.banner
				background-image url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 1080 172'%3E%3Cmask id='a' maskUnits='userSpaceOnUse' x='0' y='0' width='1080' height='172'%3E%3Crect width='1080' height='172' rx='4' fill='%23FAF7F0'/%3E%3C/mask%3E%3Cg mask='url(%23a)' clip-rule='evenodd'%3E%3Cpath fill-rule='evenodd' d='M676 86l-37 56-19-29 56-27z' fill='%23F0F0F0'/%3E%3Cpath fill-rule='evenodd' d='M623 118l-3-5-7 8 10-3z' fill='%239E8248'/%3E%3Cpath fill-rule='evenodd' d='M596 81l80 5-63 17-17-22z' fill='%23fff'/%3E%3Cpath fill-rule='evenodd' d='M676 86l-63 17v18l7-8 56-27z' fill='%23BFA267'/%3E%3Cpath d='M1024 918a413 413 0 100-826 413 413 0 000 826z' stroke='%2392C7B8' stroke-width='.5'/%3E%3Cpath fill-rule='evenodd' d='M1013 235a109 109 0 100-218 109 109 0 000 218z' fill='%23437D6D'/%3E%3Cpath fill-rule='evenodd' d='M1013 235a109 109 0 100-218 109 109 0 000 218z' fill='%234E8764'/%3E%3Cpath fill-rule='evenodd' d='M1013 235a109 109 0 100-218 109 109 0 000 218z' fill='%233D725E'/%3E%3Cpath fill-rule='evenodd' d='M1013 235a109 109 0 100-218 109 109 0 000 218z' fill='url(%23paint0_linear)'/%3E%3Cpath fill-rule='evenodd' d='M800 43a56 56 0 100-112 56 56 0 000 112z' fill='url(%23paint1_linear)'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear' x1='1166.6' y1='145.6' x2='1028.8' y2='-17.3' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%230D6763'/%3E%3Cstop offset='1' stop-color='%23D7EAE1'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint1_linear' x1='755' y1='-1' x2='834.5' y2='7.5' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%2379B1A6'/%3E%3Cstop offset='1' stop-color='%23D7EAE1'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E") !important
				.title
					color primary-color-light !important

@-moz-document regexp("https:\/\/matters\.news\/(about|migration)\/?")
	if darkModeLook
		.intro-wrap, .slogan, .banner
			background-color primary-color-dark !important
				
		.reports .item a
			background-color lighten(bg-color, 5%) !important
			&:hover, &:focus
				background-color mix(bg-color, primary-color-light, 87%) !important
				
		footer
			background-color lighten(bg-color, 5%) !important
			input[type="email"]
				color  rgba(text-color, 0.87) !important
				border-color lighten(lighten(bg-color, 4%), 7%) !important
				background-color lighten(bg-color, 4%) !important
				&::-webkit-input-placeholder,
				&::placeholder
					color rgba(text-color, .6)

@-moz-document regexp("https:\/\/matters\.news\/@.+\/((?!comments|followe[re]s).+)")
	// 自創佈局
	// Focus Matters style
	if layoutChange == focusMatters
		@media (min-width: 1280px)
			#__next > main
				// 隱藏導航欄與側邊欄，滑鼠置於空白位置時浮現
				// Hide nav and aside with revealing with hover
				& > aside, & > nav
					opacity 0
					transition opacity .25s
					transition-time-function cubic-bezier(0.4, 0.0, 1, 1)
					&:hover, &:focus-within
						opacity 1
						transition opacity .3s
						transition-time-function cubic-bezier(0.0, 0.0, 0.2, 1)
				// 內縮右移側邊欄
				// Hide aside in the right
				& > aside
					max-width 16rem
					flex-basis 16rem
					position fixed
					right 0
					padding 2rem 1rem
					height 100%
					z-index 150 !important
					transform translateX(40%) !important
					transition opacity .25s, transform .25s
					// 暗黑模式
					// Dark Mode
					if darkModeLook
						background-color bg-color
						border-left 1px solid rgba(text-color,0.08) !important
					else
						background-color #fff
						border-left 1px solid rgba(#000,0.08) !important
					& > *
						width 14rem
						flex-basis 14rem
					&:hover, &:focus-within
						transform translateX(0) !important
						transition opacity .3s, transform .3s
				// 擴大內容區域
				// Extend content area more
				& > article
					max-width calc(100% - 20rem) !important
					flex-basis calc(100% - 20rem) !important
